#+TITLE:       使用Org-Page在GitHub上搭建博客
#+AUTHOR:      RoyChen
#+EMAIL:       gychen1023@gmail.com
#+DATE:        2016-03-07 一
#+URI:         /blog/%y/%m/%d/use-org-page-build-blog-on-github
#+KEYWORDS:    org-page
#+TAGS:        org-page,wiki
#+LANGUAGE:    en
#+OPTIONS:     H:3 num:nil toc:nil \n:nil ::t |:t ^:nil -:nil f:t *:t <:t
#+DESCRIPTION: 使用org-page在GitHub上搭建个人博客

* install
** 使用package manger
#+BEGIN_SRC elisp
;;;; 由于melpa.org访问比较慢，可以切换到国内@将国宝搭建的elpa源
;; (add-to-list 'package-archives
;;              '("popkit" . "http://elpa.popkit.org/packages/"))
M-x package-install RET org-page RET
#+END_SRC
** 源码安装
下载源码
#+BEGIN_SRC
$ cd /path/you/want/save/
$ git clone https://github.com/kelvinh/org-page.git
#+END_SRC
配置
#+BEGIN_SRC elisp
;;;; 在你的～/.emacs 或者  ~/.emacs.d/init.el 中配置
(add-to-list 'load-path "/org-page/path/")
;;; config Org-Page
(require 'org-page)
;; 设置GitHub上的blog在本地的代码仓库路径,分支里需要一个source分支， eg. ~/github/cangwolf.github.io/
(setq op/repository-directory "/blog/github/local/dir")
;; 设置站点
(setq op/site-domain "http://cangwolf.github.io")
;; 设置自己的github地址 这样子首页的那个github就可以链接到你的github了
(setq op/personal-github-link "http://github.com/cangwolf")
;; 设置评论系统，我用的Disqus,需要你去disqus.com去注册
(setq op/personal-disque-shortname "cangwolf")
;; 设置主/副标题
(setq op/site-main-title "Roy'S 呓语")
(setq op/site-sub-title "=========>> 一个不懂技术的程序员的心路历程")
;; 这是email中的[@,.] 转成 [at,dot]
(setq op/confound-email t)

;; 这里有一个需要注意的地方，先设置好user-full-name,user-mail-address这两个全局变量，否则生成的页面页脚看着不爽^_^

#+END_SRC

* 第一篇org-page博客
** 使用new-post,来一步一步的添加
#+BEGIN_SRC elisp
M-x op/new-post RET
#+END_SRC

** 随意写点儿内容,看看效果
#+BEGIN_SRC elisp
M-x op/do-publication-and-previre-site RET
#+END_SRC


* 遇到的小问题
** 页脚下面的Copyright没有显示自己的名字,并且名字下面的链接也不对
#+BEGIN_SRC elisp
;; 在每个org文件中添加AUTHOR,EMAIL属性
#+AUTHOR: RoyChen
#+EMAIL: gychen1023@gmail.com
#+END_SRC
** 没有org文件的页面中的Copyright不对，比如Blog，这里需要设置全局名称，全局Email
#+BEGIN_SRC elisp
;; 在配置文件中设置
(custom-set-variables
  '(user-full-name "RoyChen")
  '(user-mail-address "gychen1023@gmail.com"))
;; 在Emacs中配置
M-x customize-variable RET user-full-name
M-x customize-variable RET user-mail-address
; 由于他们都在email Group中，也可以通过如下方式
M-x customize-group RET mail

#+END_SRC
